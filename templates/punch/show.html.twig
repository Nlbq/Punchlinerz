{% extends 'base.html.twig' %}

{% block title %}Wééé{% endblock %}
{% block stylesheets %}
        <link rel="stylesheet" href="/css/punchline_show.css">
{% endblock %}

{% block body %} 

<div class="punchView text-white mt-5 ">
    <div class="row  col-12 text-center justify-content-center">
        <div class="col-8 border rounded bg-primary m-2">
            <h1 class="">{{punch.theme}}</h1>
            <p class="">{{punch.content}}</p>
            <small class="textdarke">{{punch.date|date("d/m/Y")}}</small>
            <a href="{{ path('punchs_index') }}" class="btn btn-secondary m-3">Retour</a>

            {% if app.user and app.user == punch.author %}
            <a href="{{ path('punchs_edit', {'id': punch.id}) }}" class="btn btn-warning m-3">Modifier</a>

            <a href="{{ path('punchs_delete', {'id': punch.id}) }}" class="btn btn-danger m-3" onclick="return confirm(`Tu veux vraiment supprimer cette punch bien fatch?`)">Supprimer</a>

            {% endif %}
        </div>
    </div>

    <div class="row col-12 text-center justify-content-center">
        {% set p = punch.author %}
        <div class="col-8 bg-secondary border m-2 text-white">

    <div class="img">
        <a href="{{ path('user_show', {'id': p.id})}}">
            <img src="{{p.picture}}" class="avatar avatar-medium m-3" alt="Avatar de la personne">
        </a>
    </div>
        <a href="{{ path('user_show', {'id': p.id})}}">
            <h3>{{p.username | capitalize}}</h3>
        </a>
            <span class=""> Nombre de punchs: {{p.punches | length}}</span>
            <p>Description: {{p.description}}</p>
        </div>
</div>

{% endblock %} 
